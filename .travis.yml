language: python
dist: trusty
notifications:
  email: false
python:
  - 3.6
env:
  - sso-dashboard.secret_key='123456'
  - sso-dashboard.server_name='a.b.com'
  - sso-dashboard.mozillians_api_key='foo'
  - sso-dashboard.oidc_domain='foo'
  - sso-dashboard.oidc_client_id='foo'
  - sso-dashboard.oidc_client_secret='foo'
before_install:
  - pip install flake8
  - flake8 dashboard
  - flake8 tests
install:
  - pip install -r requirements.txt
  - npm install -g eslint stylelint
script:
  - pytest
  - eslint 'dashboard/static/js/*.js'
  - stylelint 'dashboard/static/css/*.scss'
